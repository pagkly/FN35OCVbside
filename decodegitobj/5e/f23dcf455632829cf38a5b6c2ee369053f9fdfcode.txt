b'blob 1454\x00/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n    \'use strict\';\n\n    // Regex by Imme Emosol.\n    var validUrlRegex = /^(https?|ftp):\\/\\/(-\\.)?([^\\s\\/?\\.#-]+\\.?)+(\\/[^\\s]*)?[^\\s\\.,]$/ig,\n        doubleQuoteRegex = /"/g;\n\n    CKEDITOR.plugins.add( \'autolink\', {\n        requires: \'clipboard\',\n\n        init: function( editor ) {\n            editor.on( \'paste\', function( evt ) {\n                var data = evt.data.dataValue;\n\n                if ( evt.data.dataTransfer.getTransferType( editor ) == CKEDITOR.DATA_TRANSFER_INTERNAL ) {\n                    return;\n                }\n\n                // If we found "<" it means that most likely there\'s some tag and we don\'t want to touch it.\n                if ( data.indexOf( \'<\' ) > -1 ) {\n                    return;\n                }\n\n                // #13419\n                data = data.replace( validUrlRegex , \'<a href="\' + data.replace( doubleQuoteRegex, \'%22\' ) + \'">$&</a>\' );\n\n                // If link was discovered, change the type to \'html\'. This is important e.g. when pasting plain text in Chrome\n                // where real type is correctly recognized.\n                if ( data != evt.data.dataValue ) {\n                    evt.data.type = \'html\';\n                }\n\n                evt.data.dataValue = data;\n            } );\n        }\n    } );\n} )();'